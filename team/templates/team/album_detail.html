{% extends 'team/base.html' %}
{% block title %}{{ album.title }} — ВК «ИСКРА»{% endblock %}
{% block content %}
<a href="{% url 'gallery' %}" style="color: #0033a0; display: inline-block; margin-bottom: 1rem;">← Все альбомы</a>
<h2>{{ album.title }}</h2>
<p>{{ album.description }}</p>
<small>Создан: {{ album.created_at|date:"d E Y" }}</small>

<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; margin-top: 2rem;">
    {% for photo in photos %}
        <div style="background: white; border-radius: 8px; padding: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            <img src="{{ photo.image.url }}" alt="{{ photo.caption }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 4px;">
            {% if photo.caption %}
                <p style="margin-top: 10px; font-size: 0.9em;">{{ photo.caption }}</p>
            {% endif %}
        </div>
    {% endfor %}
</div>

<!-- Пагинация для фото -->
{% if photos.paginator.num_pages > 1 %}
<div style="text-align: center; margin-top: 2rem;">
    {% if photos.has_previous %}
        <a href="?page=1" style="color: #0033a0; margin: 0 5px;">« Первая</a>
        <a href="?page={{ photos.previous_page_number }}" style="color: #0033a0; margin: 0 5px;">‹ Назад</a>
    {% endif %}

    <span style="margin: 0 10px;">
        Страница {{ photos.number }} из {{ photos.paginator.num_pages }}
    </span>

    {% if photos.has_next %}
        <a href="?page={{ photos.next_page_number }}" style="color: #0033a0; margin: 0 5px;">Вперёд ›</a>
        <a href="?page={{ photos.paginator.num_pages }}" style="color: #0033a0; margin: 0 5px;">Последняя »</a>
    {% endif %}
</div>
{% endif %}
{% endblock %}